import{w as h}from"./e4LguzAB.js";function g(){const{subscribe:m,set:l}=h("system");let t="system",a=!1,o=!1;function c(){if(o)return;o=!0,t=globalThis.localStorage?.getItem("theme-mode")||"system";const r=globalThis.matchMedia?.("(prefers-color-scheme: dark)");r&&(a=r.matches,r.addEventListener("change",f=>{a=f.matches,n()})),l(t),n()}function d(){return t==="system"?a:t==="dark"}function i(e){t=e,l(e),globalThis.localStorage&&globalThis.localStorage.setItem("theme-mode",e),n()}function n(){if(globalThis.document){const e=globalThis.document.documentElement,r=d();e.classList.remove("dark"),r&&e.classList.add("dark")}}function u(){i(t==="light"?"dark":t==="dark"?"system":"light")}function s(){o||c()}return{subscribe:e=>(s(),m(e)),setMode:e=>{s(),i(e)},toggle:()=>{s(),u()},get currentMode(){return s(),t},get isDark(){return s(),d()},init:c}}const k=g();export{k as t};
